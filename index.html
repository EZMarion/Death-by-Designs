<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>E.Z. Marion Novels</title>
  <link rel="icon" href="favicon.jpg" type="image/jpg">
  <link rel="stylesheet" href="style.css">
  <style>
    body.light-mode {
      background-color: #ffffff;
      color: #000000;
    }
#profile-icon-container div { 
      width: 40px;
      height: 40px;
      background-color: #1f3d7a;
      color: white;
      font-weight: bold;
      font-size: 20px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 0 5px rgba(0,0,0,0.3);

 }
    
 </style>
</head>
<body>
 <button onclick="toggleTheme()" style="position: absolute; top: 20px; right: 20px; padding: 10px 14px; border-radius: 8px; border: none; cursor: pointer; font-weight: bold;">
    üåô / ‚òÄÔ∏è
  </button>
<div id="profile-icon-container" style="position: fixed; top: 20px; left: 180px;"></div>
  
  <div id="cookie-popup" style="position: fixed; bottom: 20px; left: 20px; right: 20px; background: #1f3d7a; color: #f0f0f0; padding: 15px; border-radius: 8px; font-family: Georgia, serif; display: none; z-index: 9999;">
    This website uses cookies to improve your experience. By continuing, you agree to our <a href="privacy.html" style="color: #FFD700;">Privacy Policy</a>.
    <button id="accept-cookie" style="margin-left: 15px; padding: 8px 14px; background: #FFD700; color: #1f3d7a; border: none; border-radius: 5px; font-weight: bold; cursor: pointer;">Accept</button>
  </div>

  <div class="user-buttons">
    <button onclick="openModal('loginModal')" class="user-btn">Log In</button>
    <button onclick="openModal('signupModal')" class="user-btn">Sign Up</button>
  </div>

  <div id="loginModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('loginModal')">&times;</span>
      <h2>Log In</h2>
      <input type="email" id="login-email" placeholder="Email">
      <input type="password" id="login-password" placeholder="Password">
      <button onclick="login()">Login</button> 
    </div>
  </div>

  <div id="signupModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('signupModal')">&times;</span>
      <h2>Sign Up</h2>
      <input type="text" id="signup-name" placeholder="Name"> 
      <input type="email" id="signup-email" placeholder="Email">
      <input type="password" id="signup-password" placeholder="Password">
      <button onclick="signup()">Sign Up</button>
    </div>
  </div>

  <div class="banner">
    <img src="banner.jpg" alt="1900s City">
  </div>

   <div class="banner-big">
    <img src="banner-big.jpg" alt="1900s City">
  </div>

  <div style="height: 5px;"></div>

  <div class="container">
    <div class="book-layout">
     <img src="Book-Cover.jpg" alt="Book Cover" class="book-cover" width="300">
     <img src="Small-Cover.jpg" alt="Small Cover" class="small-cover" width="10">
      <div class="book-text">
        <h1>Death by Design</h1>
        <p>by E. Z. Marion</p>
        <a href="chapters.html" class="btn">Start Reading</a>
        <div class="genre-tags">
          <span>#Action</span>
          <span>#Detective</span>
          <span>#Mystery</span>
          <span>#Thriller</span>
          <span>#Religion</span>
        </div>
      </div>
    </div>

    <p class="big-text">
     This is my very first piece of writing and my own original novel, not a translation. This novel is set in the 1900s and is especially suitable for those who enjoy decetive stories,action, and mystery. Kindly forgive me if I did anything wrong.When a high prince, a weary investigator, and a cold-eyed bounty hunter cross paths, they uncover a chilling truth buried beneath aristocratic lies, revenge, and forgotten justice. But the real terror is not the crimes themselves‚Äîit's who dares to carry them out, and why. </p>
   <h2 class="section-title">About Author</h2>


    <p class="big-text">
      Hello, I'm a writer from Southeast Asia who has always been fascinated by the world of crime and mystery. Ever since I was young, I loved watching detective movies ‚Äî the suspense, the secrets, and the thrill of uncovering the truth.
       As I grew older, my passion expanded to include mystery, thriller, and dark fantasy. I began creating my own characters and imagining twisted plots filled with hidden truths.
      <strong>Death by Design</strong> is my very first novel ‚Äî an original story born from my imagination. I‚Äôm excited to share my ideas and characters with you, and I hope you‚Äôll enjoy walking into the dark, intriguing world I‚Äôve built.
       Thank you for reading ‚Äî and welcome to the mystery.</p>

    <div class="social-links" style="margin-top: 20px;">
      <a href="mailto:ezmarion2@gmail.com" class="social-link" style="margin-right: 20px; text-decoration: none;">
        üìß Email Me
      </a>
      <a href="https://twitter.com/@EZMarion2" target="_blank" class="social-link" style="text-decoration: none;">
       üê¶ X (Twitter)
      </a>
    </div>

      <div class="site-links" style="margin-top: 40px; text-align: center;font-weight: 600;">
  <a href="index.html" style="margin: 0 15px; color: #1f3d7a; text-decoration: none;">Home</a>
  <a href="about.html" style="margin: 0 15px; color: #1f3d7a; text-decoration: none;">About</a>
  <a href="contact.html" style="margin: 0 15px; color: #1f3d7a; text-decoration: none;">Contact</a>
  <a href="privacy.html" style="margin: 0 15px; color: #1f3d7a; text-decoration: none;">Privacy</a>
  <a href="terms.html" style="margin: 0 15px; color: #1f3d7a; text-decoration: none;">Terms</a>
</div>

    <footer class="footer-text" style="text-align: center; padding: 15px; margin-top: 40px;">
      &copy; 2025 Death by Designs. All Rights Reserved. |
      <a href="privacy.html" class="footer-link">Privacy Policy</a> |
      <a href="terms.html" class="footer-link">Terms & Refund</a>
    </footer>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, updateProfile } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDffoLenAKrKGMia63SDWTFt5E4AK3hxBE",
      authDomain: "novel-site-81674.firebaseapp.com",
      projectId: "novel-site-81674",
      storageBucket: "novel-site-81674.appspot.com",
      messagingSenderId: "227276404115",
      appId: "1:227276404115:web:0a5831851c8c05391b6466"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    window.auth = auth;
    window.db = db;

    onAuthStateChanged(auth, async (user) => {
      if (user) {
        const email = user.email || "";
        const firstLetter = email.charAt(0).toUpperCase();

        const icon = document.createElement('div');
        icon.textContent = firstLetter;
        icon.onclick = () => window.location.href = "profile.html";

        const container = document.getElementById('profile-icon-container');
        container.innerHTML = '';
        container.appendChild(icon);

        document.querySelector('.user-buttons').style.display = 'none';

        const userRef = doc(db, "users", user.uid);
        const docSnap = await getDoc(userRef);

       if (!docSnap.exists()) {
  await setDoc(userRef, {
    // Set default only if you're sure, or skip setting name
    name: "No name",
    email: user.email,
    joinDate: new Date().toISOString().split('T')[0],
    purchases: [],
    reading: []
  });
}
      }
    });

    window.signup = async function () {
      const name = document.getElementById("signup-name").value;
      const email = document.getElementById("signup-email").value;
      const password = document.getElementById("signup-password").value;

      try {
        const userCredential = await createUserWithEmailAndPassword(auth, email, password);
        const user = userCredential.user;

        await updateProfile(user, { displayName: name });

        await setDoc(doc(db, "users", user.uid), {
          name: name,
          email: email,
          joinDate: new Date().toISOString().split('T')[0],
          purchases: [],
          reading: []
        });

        alert("Signup successful!");
        closeModal("signupModal");
        location.reload();
      } catch (error) {
        alert(error.message);
      }
    };

    window.login = async function () {
      const email = document.getElementById("login-email").value;
      const password = document.getElementById("login-password").value;

      try {
        await signInWithEmailAndPassword(auth, email, password);
        alert("Login successful!");
        closeModal("loginModal");
        window.location.href = "index.html";
      } catch (error) {
        alert(error.message);
      }
    };

    window.toggleTheme = function () {
      document.body.classList.toggle("light-mode");
      localStorage.setItem("theme", document.body.classList.contains("light-mode") ? "light" : "dark");
    };

    window.openModal = function (modalId) {
      document.getElementById(modalId).style.display = "block";
    };

    window.closeModal = function (modalId) {
      document.getElementById(modalId).style.display = "none";
    };

    window.onload = function () {
      if (localStorage.getItem("theme") === "light") {
        document.body.classList.add("light-mode");
      }

      if (!localStorage.getItem("cookiesAccepted")) {
        document.getElementById("cookie-popup").style.display = "block";
      }

      document.getElementById("accept-cookie").onclick = function () {
        localStorage.setItem("cookiesAccepted", true);
        document.getElementById("cookie-popup").style.display = "none";
      };
    };
  </script>
</body>
</html>
